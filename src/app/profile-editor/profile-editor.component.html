<!-- The formGroup directive will listed for the submit() event emitted from the form element and emit a ngSubmit event.
which is what we can listen for and bind a callback to. -->
<form (ngSubmit)="onSubmit()" [formGroup]="profileForm">
  <div>
    <label>
      First Name:
      <!-- Binds the input to the formControl name provided in the FormGroup definition -->
      <input type="text" formControlName="firstName" required />
    </label>
  </div>
  <div>
    <label>
      Last Name:
      <input type="text" formControlName="lastName" />
    </label>
  </div>

  <div formGroupName="address">
    <label>
      Street Number:
      <input type="text" formControlName="streetNumber" />
    </label>
    <label>
      Street Name:
      <input type="text" formControlName="streetName" />
    </label>
    <label>
      Unit Number:
      <input type="text" formControlName="unitNumber" />
    </label>
    <label>
      Postal Code:
      <input type="text" formControlName="postalCode" />
    </label>
    <label>
      City:
      <input type="text" formControlName="city" />
    </label>
    <label>
      Province:
      <input type="text" formControlName="province" />
    </label>
  </div>

  <div>
    <button type="button" (click)="updateProfile()">Update the profile</button>
  </div>

  <!-- In the DOM, you must click a button with the type 'submit' in order for the form to emit the native submit event.
  -->
  <button type="submit" [disabled]="!profileForm.valid">Submit</button>

  <hr />
  <button (click)="addAlias()">Add Alias</button>
  <!-- defining formArrayName binds communication from the FormArray instance to the template -->
  <div formArrayName="aliases">
    <h2>Aliases</h2>
    <div *ngFor="let alias of aliases.controls; let i = index">
      <label>
        Alias:
        <input type="text" [formControlName]="i" />
      </label>
    </div>
  </div>
  <hr />
</form>
<p>Form Status: {{ profileForm.status }}</p>
